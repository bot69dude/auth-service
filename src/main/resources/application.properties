spring.application.name=vitasync-auth-service
spring.config.import=optional:file:.env

# R2DBC Database Configuration
spring.r2dbc.url=r2dbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}?sslMode=require
spring.r2dbc.username=${DB_USERNAME}
spring.r2dbc.password=${DB_PASSWORD}

# R2DBC Properties
spring.r2dbc.pool.initial-size=5
spring.r2dbc.pool.max-size=20
spring.r2dbc.pool.max-idle-time=30m
spring.r2dbc.pool.validation-query=SELECT 1

# Database initialization
spring.sql.init.mode=never

# Logging Configuration
logging.level.org.springframework.r2dbc=DEBUG
logging.level.com.vitasync.auth_service=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.io.r2dbc.postgresql.QUERY=DEBUG
logging.level.io.r2dbc.postgresql.PARAM=DEBUG

# Server Configuration
server.port=8080
server.error.include-message=always
server.error.include-binding-errors=always

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}

# Management endpoints for health checks
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.r2dbc.enabled=true

# Validation configuration
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false
